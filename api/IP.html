---
layout: default
title: "IP API"
categories:
  - api
---
  <div class="row-fluid">
    <div class="page-title documentation-page-title">
      <div class="container">
        <h1 class="page-title__title">API Documentation</h1>
        <a href="https://github.com/noflo/noflo/blob/master/src/lib/IP.coffee" class="btn btn-primary page-title__button big-button">On GitHub</a>
      </div>
    </div>
  </div>

  <div class="row-fluid">
    <div class="container documentation-main-container">
      <div class="main">
        <div class="sidebar span4">
        
          <nav>
            <ul class="sidebar__nav">
              
                
                
                <li>
                  <a {% if page.url == '/api/AsCallback/index.html' %}class="active" {% endif %}href="/api/AsCallback/">
                    AsCallback
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/AsComponent/index.html' %}class="active" {% endif %}href="/api/AsComponent/">
                    AsComponent
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/BaseNetwork/index.html' %}class="active" {% endif %}href="/api/BaseNetwork/">
                    BaseNetwork
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/BasePort/index.html' %}class="active" {% endif %}href="/api/BasePort/">
                    BasePort
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/Component/index.html' %}class="active" {% endif %}href="/api/Component/">
                    Component
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/ComponentLoader/index.html' %}class="active" {% endif %}href="/api/ComponentLoader/">
                    ComponentLoader
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/IP/index.html' %}class="active" {% endif %}href="/api/IP/">
                    IP
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/InPort/index.html' %}class="active" {% endif %}href="/api/InPort/">
                    InPort
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/InternalSocket/index.html' %}class="active" {% endif %}href="/api/InternalSocket/">
                    InternalSocket
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/LegacyNetwork/index.html' %}class="active" {% endif %}href="/api/LegacyNetwork/">
                    LegacyNetwork
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/Network/index.html' %}class="active" {% endif %}href="/api/Network/">
                    Network
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/NoFlo/index.html' %}class="active" {% endif %}href="/api/NoFlo/">
                    NoFlo
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/OutPort/index.html' %}class="active" {% endif %}href="/api/OutPort/">
                    OutPort
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/Platform/index.html' %}class="active" {% endif %}href="/api/Platform/">
                    Platform
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/Ports/index.html' %}class="active" {% endif %}href="/api/Ports/">
                    Ports
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/ProcessContext/index.html' %}class="active" {% endif %}href="/api/ProcessContext/">
                    ProcessContext
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/ProcessInput/index.html' %}class="active" {% endif %}href="/api/ProcessInput/">
                    ProcessInput
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/ProcessOutput/index.html' %}class="active" {% endif %}href="/api/ProcessOutput/">
                    ProcessOutput
                  </a>
                </li>
                
              
                
                
                <li>
                  <a {% if page.url == '/api/Utils/index.html' %}class="active" {% endif %}href="/api/Utils/">
                    Utils
                  </a>
                </li>
                
              
            </ul>
          </nav>
        
        </div>
        <div class="content span8">
          <h1>{{ page.title }}</h1>
          
            
            
            
              <div class='highlight'><pre><span class="hljs-meta">&quot;use strict&quot;</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_typeof</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-string">&quot;@babel/helpers - typeof&quot;</span>; <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span> === <span class="hljs-string">&quot;function&quot;</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span>.iterator === <span class="hljs-string">&quot;symbol&quot;</span>) { _typeof = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_typeof</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> obj; }; } <span class="hljs-keyword">else</span> { _typeof = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_typeof</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-keyword">return</span> obj &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span> === <span class="hljs-string">&quot;function&quot;</span> &amp;&amp; obj.constructor === <span class="hljs-built_in">Symbol</span> &amp;&amp; obj !== <span class="hljs-built_in">Symbol</span>.prototype ? <span class="hljs-string">&quot;symbol&quot;</span> : <span class="hljs-keyword">typeof</span> obj; }; } <span class="hljs-keyword">return</span> _typeof(obj); }

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_classCallCheck</span>(<span class="hljs-params">instance, Constructor</span>) </span>{ <span class="hljs-keyword">if</span> (!(instance <span class="hljs-keyword">instanceof</span> Constructor)) { <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">&quot;Cannot call a class as a function&quot;</span>); } }

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_defineProperties</span>(<span class="hljs-params">target, props</span>) </span>{ <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; props.length; i++) { <span class="hljs-keyword">var</span> descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || <span class="hljs-literal">false</span>; descriptor.configurable = <span class="hljs-literal">true</span>; <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;value&quot;</span> <span class="hljs-keyword">in</span> descriptor) descriptor.writable = <span class="hljs-literal">true</span>; <span class="hljs-built_in">Object</span>.defineProperty(target, descriptor.key, descriptor); } }

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_createClass</span>(<span class="hljs-params">Constructor, protoProps, staticProps</span>) </span>{ <span class="hljs-keyword">if</span> (protoProps) _defineProperties(Constructor.prototype, protoProps); <span class="hljs-keyword">if</span> (staticProps) _defineProperties(Constructor, staticProps); <span class="hljs-keyword">return</span> Constructor; }</pre></div>
            
          
            
            <pre><code>NoFlo - Flow-Based Programming <span class="hljs-keyword">for</span> JavaScript
(c) <span class="hljs-number">2016</span><span class="hljs-number">-2017</span> Flowhub UG
NoFlo may be freely distributed under the MIT license</code></pre>
<h2 id="information-packets">Information Packets</h2>
<p>IP objects are the way information is transmitted between
components running in a NoFlo network. IP objects contain
a <code>type</code> that defines whether they’re regular <code>data</code> IPs
or whether they are the beginning or end of a stream
(<code>openBracket</code>, <code>closeBracket</code>).</p>
<p>The component currently holding an IP object is identified
with the <code>owner</code> key.</p>
<p>By default, IP objects may be sent to multiple components.
If they’re set to be clonable, each component will receive
its own clone of the IP. This should be enabled for any
IP object working with data that is safe to clone.</p>
<p>It is also possible to carry metadata with an IP object.
For example, the <code>datatype</code> and <code>schema</code> of the sending
port is transmitted with the IP object.
Valid IP types:</p>
<ul>
<li>‘data’</li>
<li>‘openBracket’</li>
<li>‘closeBracket’</li>
</ul>

            
              <div class='highlight'><pre><span class="hljs-built_in">module</span>.exports = <span class="hljs-comment">/*#__PURE__*/</span><span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  _createClass(IP, <span class="hljs-literal">null</span>, [{
    <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;isIP&quot;</span>,</pre></div>
            
          
            
            <p>Detects if an arbitrary value is an IP</p>

            
              <div class='highlight'><pre>    value: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isIP</span>(<span class="hljs-params">obj</span>) </span>{
      <span class="hljs-keyword">return</span> obj &amp;&amp; _typeof(obj) === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; obj.isIP === <span class="hljs-literal">true</span>;
    } <span class="hljs-comment">// Creates as new IP object</span></pre></div>
            
          
            
            <p>Valid types: ‘data’, ‘openBracket’, ‘closeBracket’</p>

            
              <div class='highlight'><pre>
  }]);

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IP</span>(<span class="hljs-params">type</span>) </span>{
    <span class="hljs-keyword">var</span> _this = <span class="hljs-built_in">this</span>;

    <span class="hljs-keyword">var</span> data = <span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>] !== <span class="hljs-literal">undefined</span> ? <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>] : <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> options = <span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-built_in">arguments</span>[<span class="hljs-number">2</span>] !== <span class="hljs-literal">undefined</span> ? <span class="hljs-built_in">arguments</span>[<span class="hljs-number">2</span>] : {};

    _classCallCheck(<span class="hljs-built_in">this</span>, IP);

    <span class="hljs-built_in">this</span>.type = type || <span class="hljs-string">&#x27;data&#x27;</span>;
    <span class="hljs-built_in">this</span>.data = data;
    <span class="hljs-built_in">this</span>.isIP = <span class="hljs-literal">true</span>;
    <span class="hljs-built_in">this</span>.scope = <span class="hljs-literal">null</span>; <span class="hljs-comment">// sync scope id</span>

    <span class="hljs-built_in">this</span>.owner = <span class="hljs-literal">null</span>; <span class="hljs-comment">// packet owner process</span>

    <span class="hljs-built_in">this</span>.clonable = <span class="hljs-literal">false</span>; <span class="hljs-comment">// cloning safety flag</span>

    <span class="hljs-built_in">this</span>.index = <span class="hljs-literal">null</span>; <span class="hljs-comment">// addressable port index</span>

    <span class="hljs-built_in">this</span>.schema = <span class="hljs-literal">null</span>;
    <span class="hljs-built_in">this</span>.datatype = <span class="hljs-string">&#x27;all&#x27;</span>;

    <span class="hljs-keyword">if</span> (_typeof(options) === <span class="hljs-string">&#x27;object&#x27;</span>) {
      <span class="hljs-built_in">Object</span>.keys(options).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
        _this[key] = options[key];
      });
    }

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
  } <span class="hljs-comment">// Creates a new IP copying its contents by value not reference</span>


  _createClass(IP, [{
    <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;clone&quot;</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">var</span> _this2 = <span class="hljs-built_in">this</span>;

      <span class="hljs-keyword">var</span> ip = <span class="hljs-keyword">new</span> IP(<span class="hljs-built_in">this</span>.type);
      <span class="hljs-built_in">Object</span>.keys(<span class="hljs-built_in">this</span>).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> val = _this2[key];

        <span class="hljs-keyword">if</span> (key === <span class="hljs-string">&#x27;owner&#x27;</span>) {
          <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">if</span> (val === <span class="hljs-literal">null</span>) {
          <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">if</span> (_typeof(val) === <span class="hljs-string">&#x27;object&#x27;</span>) {
          ip[key] = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">JSON</span>.stringify(val));
        } <span class="hljs-keyword">else</span> {
          ip[key] = val;
        }
      });
      <span class="hljs-keyword">return</span> ip;
    } <span class="hljs-comment">// Moves an IP to a different owner</span>

  }, {
    <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;move&quot;</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">move</span>(<span class="hljs-params">owner</span>) </span>{</pre></div>
            
          
            
            <p>no-op</p>

            
              <div class='highlight'><pre>      <span class="hljs-built_in">this</span>.owner = owner;
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
    } <span class="hljs-comment">// Frees IP contents</span>

  }, {
    <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;drop&quot;</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drop</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">var</span> _this3 = <span class="hljs-built_in">this</span>;

      <span class="hljs-built_in">Object</span>.keys(<span class="hljs-built_in">this</span>).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">delete</span> _this3[key];
      });
    }
  }]);

  <span class="hljs-keyword">return</span> IP;
}();</pre></div>
            
          
          <p><small>This page contains documentation generated automatically from NoFlo's <a href="https://github.com/noflo/noflo/blob/master/src/lib/IP.coffee">IP.coffee</a> file.</small></p>
        </div>
      </div>
    </div>
  </div>
